# ==================== INSTRUCCIONES ====================
# 1. Copiar este archivo como .env en la raíz del proyecto backend
# 2. Configurar las variables según tu entorno
# 3. NUNCA commitear el archivo .env (está en .gitignore)

# ==================== PERFIL DE SPRING ====================
# Opciones: dev, prod
# dev  = Desarrollo local (DataInitializer habilitado, logs DEBUG)
# prod = Producción (DataInitializer deshabilitado, logs WARN, Flyway habilitado)
SPRING_PROFILES_ACTIVE=dev

# ==================== SERVER CONFIGURATION ====================
SERVER_PORT=8080

# ==================== DATABASE CONFIGURATION ====================
# PostgreSQL Connection
DB_URL=jdbc:postgresql://localhost:5432/ayni_trazabilidad
DB_USERNAME=postgres
DB_PASSWORD=CHANGE_ME

# Connection Pool (opcional, tiene valores por defecto)
# DB_POOL_SIZE=10
# DB_POOL_MIN_IDLE=5

# ==================== JPA/HIBERNATE ====================
# Solo aplica en perfil DEV (en prod siempre es 'validate')
# Opciones: create, create-drop, update, validate, none
DDL_AUTO=update
SHOW_SQL=true

# ==================== JWT CONFIGURATION ====================
# IMPORTANTE: Generar un secret seguro para producción
# Comando: openssl rand -base64 64
# Mínimo 256 bits (32 bytes en Base64)
JWT_SECRET=GENERATE_A_SECURE_SECRET_HERE_MINIMUM_256_BITS

# Expiración en milisegundos
# 86400000 ms = 24 horas
# 604800000 ms = 7 días
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# ==================== CORS CONFIGURATION ====================
# Separar múltiples orígenes con comas
CORS_ORIGINS=http://localhost:4200,http://localhost:3000

# ==================== FILE UPLOAD ====================
MAX_FILE_SIZE=2MB
MAX_REQUEST_SIZE=2MB

# ==================== LOGGING ====================
# Niveles: TRACE, DEBUG, INFO, WARN, ERROR
# En producción se ignora y se fuerza a WARN
LOG_LEVEL=DEBUG

# ==================== DATA INITIALIZER ====================
# Solo aplica en perfil DEV (en prod siempre false)
DATA_INITIALIZER_ENABLED=true

# ==================== CREDENCIALES ADMIN ====================
# Credenciales del usuario administrador inicial
# En producción, cambiar inmediatamente después del primer login
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# ==================== RATE LIMITING ====================
# Límite de intentos de autenticación (login/register/refresh) por minuto
# Protección contra ataques de fuerza bruta
# Desarrollo: 5 intentos/minuto (permisivo para testing)
# Producción: 3 intentos/minuto (más restrictivo)
RATE_LIMIT_AUTH=5

# Límite de llamadas generales a la API por minuto
# Desarrollo: 100 requests/minuto
# Producción: 60 requests/minuto
RATE_LIMIT_API=100
